<Page x:Class="ShelterApp.Views.Pages.AdminPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="{StaticResource Beige}">
    <Grid Margin="40">
        <TabControl Background="Transparent" BorderThickness="0">
            <TabItem Header="Управление животными" FontSize="16" Padding="15,10">
                <Grid Margin="0,20,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Button Content="+ Добавить животное"
                            Style="{StaticResource RoundedButton}"
                            HorizontalAlignment="Left"
                            Padding="20,10"
                            Click="AddAnimal_Click"
                            Grid.Row="0"/>

                    <DataGrid x:Name="AnimalsDataGrid"
                              Grid.Row="1"
                              Margin="0,20,0,0"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              Background="White"
                              BorderThickness="0"
                              RowHeight="40">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Имя" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Вид" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="Порода" Binding="{Binding Breed}" Width="150"/>
                            <DataGridTextColumn Header="Возраст" Binding="{Binding Age}" Width="80"/>
                            <DataGridTextColumn Header="Статус" Binding="{Binding CurrentStatus}" Width="*"/>
                            <DataGridTemplateColumn Header="Действия" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <Button Content="Редактировать"
                                                    Margin="5,0"
                                                    Padding="10,5"
                                                    Click="EditAnimal_Click"/>
                                            <Button Content="Удалить"
                                                    Margin="5,0"
                                                    Padding="10,5"
                                                    Background="Red"
                                                    Foreground="White"
                                                    Click="DeleteAnimal_Click"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Управление заявками" FontSize="16" Padding="15,10">
                <Grid Margin="0,20,0,0">
                    <DataGrid x:Name="ApplicationsDataGrid"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              Background="White"
                              BorderThickness="0"
                              RowHeight="40">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="ID Опекуна" Binding="{Binding IdGuardian}" Width="100"/>
                            <DataGridTextColumn Header="ID Животного" Binding="{Binding IdAnimal}" Width="120"/>
                            <DataGridTextColumn Header="Дата подачи" Binding="{Binding SubmissionDate, StringFormat=\{0:dd.MM.yyyy\}}" Width="120"/>
                            <DataGridTextColumn Header="Статус" Binding="{Binding ApplicationStatus}" Width="*"/>
                            <DataGridTemplateColumn Header="Действия" Width="300">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <Button Content="Одобрить"
                                                    Margin="5,0"
                                                    Padding="10,5"
                                                    Background="{StaticResource PrimaryGreen}"
                                                    Foreground="White"
                                                    Click="ApproveApplication_Click"/>
                                            <Button Content="Отклонить"
                                                    Margin="5,0"
                                                    Padding="10,5"
                                                    Background="Red"
                                                    Foreground="White"
                                                    Click="RejectApplication_Click"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Page>
